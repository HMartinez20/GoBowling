---
title: Home
---
<!DOCTYPE html>
<html>
   <head>
      {% include header.html %}
      {% include fire.html %}
   </head>
   <body>
   <h1> {{ page.title }} </h1>
   <button id="button" class="btn" onclick="window.location='https://hmartinez20.github.io/GoBowling/pageTwo.html'"> Page 2 </button>
   <button onclick="writeNewUser();">Add New User</button>
   <pre id="object"></pre>
   <button class="btn btn-primary" data-toggle="modal" data-target="#signUpModal">Sign Up</button>
   <div id="fileSubmit">
     <input type="file" class="file-select" accept="image/*"/>
     <button class="file-submit">SUBMIT</button>
   </div>
   </body>
   <div class="modal" tabindex="-1" role="dialog" id="signUpModal">
      <div class="modal-dialog" role="document">
       <div class="modal-content">
         <div class="modal-header">
           <h5 class="modal-title">Sign Up</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
         </div>
         <div class="modal-body">
            <input type="text" id="user">Email</input>
            <input type="text" id="pass">New Password</input>
         </div>
         <div class="modal-footer">
           <button type="button" class="btn btn-primary" 
                   onclick="newSignUp('hmartinez21@mail.stmarytx.edu', 'testPass');">Save changes</button>
           <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
         </div>
       </div>
      </div>
   </div>
   <script type="text/javascript">
      console.log(document.getElementById("user").value);
      function newSignUp(user, pass){
         console.log("in new sign up function...");
         console.log(user," ",pass);
         firebase.auth().createUserWithEmailAndPassword(user, pass).catch(function(error) {
            console.log(error.code);
            console.log(error.message);
         });
      }
      
      const storageService = firebase.storage(); // Reference to storage service
      const storageRef = storageService.ref();  // Reference to WHERE the image will be stored
      
      document.querySelector('.file-select').addEventListener('change', handleFileUploadChange());
      document.querySelector('.file-submit').addEventListener('click', handleFileUploadSubmit());        
      
      let selectedFile; // Tracks user selected file
      function handleFileUploadChange(e) {
        selectedFile = e.target.files[0];
      }
      function handleFileUploadSubmit(e) {
        const uploadTask = storageRef.child(`images/${selectedFile.name}`).put(selectedFile); //create a child directory called images, and place the file inside this directory
        uploadTask.on('state_changed', (snapshot) => {   // "uploadTask" - makes "images" directory
        // Observe state change events such as progress, pause, and resume
        }, (error) => {
          console.log(error); // Handle unsuccessful uploads here
        }, () => {
           console.log('success'); // Do something once upload is complete here
        });
      }
      
      
      var usersRef = firebase.database().ref("users/");
      function writeNewUser(){
         usersRef.push({
            name: "Jane",
            number: 1,
            age: 30
         });
      }
   </script>
</html>
